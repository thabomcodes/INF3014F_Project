{% extends "layout.html" %}
{% from 'bootstrap5/form.html' import render_form, render_field %}

{% block styles %}
    <style>
        header {
            display: none;
        }
        footer {
            display: none;
        }
        body#body {
            background-image: url("{{ url_for('static', filename='images/background/amoon-ra-oWN1tKuUpJI-unsplash.jpg') }}");
            background-size: cover;
            background-position: center center;
            animation: 15s background-image-change infinite alternate;
        }
        main div.container.alerts {
            display: none;
        }
        @keyframes background-image-change {
            0% {
                background-image: url("{{ url_for('static', filename='images/background/amoon-ra-oWN1tKuUpJI-unsplash.jpg') }}");
            }
            25% {
                background-image: url("{{ url_for('static', filename='images/background/anna-pelzer-IGfIGP5ONV0-unsplash.jpg') }}");
            }
            50% {
                background-image: url("{{ url_for('static', filename='images/background/dan-gold-4_jhDO54BYg-unsplash.jpg') }}");
            }
            75% {
                background-image: url("{{ url_for('static', filename='images/background/lum3n-5GK0KjhBLs4-unsplash.jpg') }}");
            }
            100% {
                background-image: url("{{ url_for('static', filename='images/background/tamanna-rumee-nswz6tIpgZk-unsplash.jpg') }}");
            }
        }
    </style>
{% endblock %}

{% block page_content %}
    <div id="intro" class="bg-image bg-black bg-opacity-25 vh-100 overflow-y-auto">
        <div class="mask d-flex align-items-center h-100 align-self-center" style="">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-xl-5 col-md-8 my-4">
                        <form class="bg-white rounded-5 shadow p-4 p-sm-5" method="post">
                            <div class="text-center pb-2">
                                <img src="{{ url_for('static', filename='images/logos/oasis_nourish_logo.png')}}" alt="Oasis nourish logo" class="w-50">
                                <h3 class="pt-2">Sign into your account</h3>
                            </div>
                            {% with errors = get_flashed_messages(category_filter=["error"]) %}
                                {% if errors %}
                                    {% for msg in errors %}
                                        <div class="alert alert-danger text-center" role="alert">
                                            {{ msg }}
                                        </div>
                                    {% endfor %}
                                {% endif %}
                            {% endwith %}
                            {{ form.csrf_token() }}

                            <div class="form-outline mb-3">
                                {{ render_field(form.email) }}
                            </div>
                            <div class="form-outline mb-3">
                                {{ render_field(form.password) }}
                            </div>

                            <div class="row mb-3">
                                <div class="col">
                                    {{ render_field(form.remember_me) }}
                                </div>
                                <div class="col d-flex justify-content-end">
                                    <a class="text-muted" href="#!">Forgot password?</a>
                                </div>
                            </div>
                            <div class="pt-1 mb-3">
                                {{ render_field(form.submit, class='w-100 btn-lg') }}
                            </div>
                            <p class="p-0 m-0">Don't have an account? <a href="{{ url_for('register') }}" style="color: #393f81;">Register</a></p>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}